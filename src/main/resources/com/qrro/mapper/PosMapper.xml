<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="com.qrro.mapper.PosMapper">
  
 	 <!-- 테이블 목록 -->
	  <select id="getTableManage" resultType="com.qrro.model.TableVO">
	  
	  		select * from table_info
	  
	  </select>
	
	<!-- 테이블 등록 -->
	<insert id="tEnroll">
        
        insert into table_info
        (table_id, table_pw) 
        values 
        (#{table_id}, #{table_pw})
        
    </insert>
    
     <!-- 테이블 수정 -->
    <update id="tUpdate">
    
        update table_info 
        set 
        table_id = #{table_id}, 
        table_pw = #{table_pw} 
        where seq = #{seq}
    </update>
    
    <!-- 테이블 삭제 -->
    <delete id="tDelete">
    
        delete from table_info where seq = #{seq}
    
    </delete>
    
    <update id="tReset1">
    	 SET @CNT = 0;
	</update>

	<update id="tReset2">
    	UPDATE table_info SET table_info.seq = @CNT:=@CNT+1;
    </update>
    
    <update id="tReset3">
    	ALTER TABLE table_info AUTO_INCREMENT = 1;
	</update>
	
  </mapper>